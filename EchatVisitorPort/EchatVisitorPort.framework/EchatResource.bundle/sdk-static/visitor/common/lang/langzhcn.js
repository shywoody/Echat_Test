var lanRes = {
    colon:'：',
    scanchat:'手机扫一扫继续对话',
    evaluate:'满意度评价',
    evaluateTitle:{title:'满意度评价'},
    eavlLevel1:'非常不满意',
    eavlLevel2:'不满意',
    eavlLevel3:'一般',
    eavlLevel4:'满意',
    eavlLevel5:'非常满意',
    suggest:'请留下您的宝贵意见：',
    suggestHolder:{placeholder:'建议：'},
    submit:'提交',
    toLeavelWord:'给我留言',
    viewThisMsg:'查看此留言',
    writemore:'再写一条',
    leavelWordTip:'收到您的留言后我们会第一时间联系您',
    leavelSuc:{alt:'留言成功'},
    offlineTip:{alt:'没有在线的客服哦'},
    leaveWord:'留言',
    validCode:{alt:'验证码'},
    validCodeTip:"请输入验证码进行对话",
    nextPic:'&nbsp;换一张&nbsp;',
    okay:'确定',
    cancel:'取消',
    send:'发送',
    close:'关闭',
    waitting:'请稍等...',
    prepage:'上一页',
    nextpage:'下一页',
    sendFail:'发送失败',
    emotion:{title:'表情'},
    emotionHtml:'表情',
    file:{title:'文件'},
    snapshotTitle:{title: '粘贴已复制截图发送'},
    fileHtml:'文件',
    textareaInput:{placeholder:'请输入...'},
    title:'Echat',
    endChat:'结束对话',
    endChatTitle:{ title: '结束对话'},
    sendShortCut1:'按下Enter发送',
    sendShortCut2:'按下ctrl+Enter发送',
    backToSite:'返回网站',
    invildEmail:'请输入正确的电子邮件地址',
    invildPhone:'请输入正确的电话号码',
    invildAge:'请输入正确的年龄',
    invildQQ:'请输入正确的QQ号码',
    invildDate:'请输入2015-12-12格式的日期',
    inputPlease:'请填写',
    chatContinued:'您已继续对话',
    offlineForbidTip:'当前客服不在线，没有启用留言功能，请到客服上班时间咨询。',
    leaveWordContent:'留言内容',
    leaveWordFail:'提交留言失败',
    male:'男',
    female:'女',
    married:'已婚',
    unmarried:'未婚',
    receiveBookForm:'客服给您发送了一个预约表。',
    submitInfoSucc:'提交信息成功',
    waitingChat1:'您前面还有',
    waitingChat2:'位访客，请稍等...',
    toContinueChat:'点击继续对话',
    download:'下载',
    staffExitEnding:'客服离线，对话已结束。',
    tooLargeUploadFail:'文件太大，上传失败',
    unsupportFileType:'不支持的文件类型，上传失败',
    unkownErrorUpload:'上传文件错误',
    unkownErrorSubmit:'提交信息失败',
    fileSizeOut:'文件太大，不能超过',
    unkownErrorSubmitEval:'提交评价失败',
    successSubmitEval:'提交评价成功',
    picture:'图片',
    onlineService:'在线客服',
    intro:'简介',
    telephone:'电话',
    backToChat:'返回聊天',
    makeCall:'电话联系',
    newMsgPc:'您有新消息...',
    andLabel:'与',
    chatWith:'聊天中',
    sendPic:'发送图片',
    serviceStaff:'客服',
    evaluateTimeout:'很遗憾，由于系统超时，您无法继续做出评价！',
    evaluateRepeat:'您已成功提交服务评价，请勿重复提交，谢谢！',
    evaluateRepeatTime:'很遗憾，由于系统超时，您无法继续做出评价！',
    leaveStaffReply:'回复了您的留言',
    fileSending:'文件发送中...',
    captureSending:'截图发送中...',
    transferStaff:'为您服务',
    staffInput:'对方正在输入',
    validateCode:'验证码',
    inputCode:'请输入验证码',
    selectFile:'选择文件',
    hasUnreadMsgNum:'您有${num}条未读消息',
    echatSnap:'Echat截图',
    fileSendWait:'正在发送中，请稍后再发送下一个',
    supportFileType:'支持的类型',
    staffLeaveEnd:"客服离线，对话已结束。",
    today:'今天',
    yesterday:'昨天',
    beforeYesterday:'前天',
    robot:'机器人',
    robotName:'智能客服',
    commonQuestion:'常见问题',
    tip:'提示',
    closeTip:'您确认要结束本次对话吗?',
    capture:'屏幕截图',
    captureTitle:{title:'屏幕截图'},
    captureHide:'截图时隐藏当前窗口',
    captureQQtip:'如您已有QQ等截图工具,可直接粘贴到输入框发送',
    clickHere:'点击此处',
    captureInstall:'安装Echat截图控件',
    captureInstalling:'正在进行安装,安装完成后点击这里...',
    defaultWnd:'默认窗口',
    interactWnd:'互动窗口',
    defautInfoPage:'默认窗口',
    interactInfoPage:'互动窗口',
    evalTip:'您对我们的服务满意吗?',
    preHistory:'查看更多消息',
    inputPlaceholder:'请输入文字或粘贴截图',
    textPlaceholder:{
        placeholder:'请输入文字或粘贴截图'
    },
    inputPlaceholder2:'请输入...',
    currentChat:'本次对话',
    scanDjiWechat:'扫一扫二维码用微信联系大疆服务',
    overLength:'长度超过限制',
    satisfyTip:'— 请对客服的服务进行评价 —',
    yes:'是',
    no:'否',
    leaveToChatTip:'当前有客服在线,您是否需要接入对话？',
    leaveToLeaveTip:'当前客服不在线,您是否需要继续留言？',
    leaveToChatBtn:'接入对话',
    leaveToLeaveBtn:'继续留言',
    leaveMsgTitle:'留言内容',
    staffLeave:'给您的留言',
    viewAll:'点击查看全文',
    downloadSourceImg:'查看原图',
    uploadSameFile:'您已经发送过了这个文件，是否再次发送？',
    hasSelected:'已选择',
    robotToStaff:'人工服务',
    robotPlaceholder:'请用一句话描述您的问题,尽可能简短哦',
    inputLengthTip1:'您还可以输入',
    inputLengthTip2:'个字',
    disablePlaceholder:'当前状态暂不支持输入...',
    solvedReason:'已解决原因',
    unsolvedReason:'未解决原因'
};

if(typeof module!='undefined' && module.exports){
    module.exports = lanRes;
}
/**todo 多语言处理*/
(function () {
    function contentLoaded(win, fn) {
        var done = false, top = true,

            doc = win.document,
            root = doc.documentElement,
            modern = doc.addEventListener,

            add = modern ? 'addEventListener' : 'attachEvent',
            rem = modern ? 'removeEventListener' : 'detachEvent',
            pre = modern ? '' : 'on',

            init = function(e) {
                if (e.type == 'readystatechange' && doc.readyState != 'complete') return;
                (e.type == 'load' ? win : doc)[rem](pre + e.type, init, false);
                if (!done && (done = true)) fn.call();//win, e.type || e
            },

            poll = function() {
                try { root.doScroll('left'); } catch(e) { setTimeout(poll, 50); return; }
                init('poll');
            };

        if (doc.readyState == 'complete') fn.call();//win, 'lazy'
        else {
            if (!modern && root.doScroll) {
                try { top = !win.frameElement; } catch(e) { }
                if (top) poll();
            }
            doc[add](pre + 'DOMContentLoaded', init, false);
            doc[add](pre + 'readystatechange', init, false);
            win[add](pre + 'load', init, false);
        }

    }

    function replaceHtmlLan(res) {
        res = res || lanRes;
        var body = document.body || document.getElementsByTagName('body')[0];
        translater(body);
        function translater(node) {
            if (!node || !node.getAttribute) return;

            var attr = node.getAttribute('langs');
            if (attr && res[attr]) {
                if (res[attr].constructor == String) {
                    node.innerHTML = res[attr];
                } else {
                    //处理可能的需要的多语言标签属性
                    for (var e in res[attr]) {
                        if (res[attr][e] && node.getAttribute(e)) {
                            node.setAttribute(e, res[attr][e]);
                        }
                    }
                }
            }

            var children = node.childNodes;
            for (var i = 0; i < children.length; i++) {
                translater(children[i]);
            }
        }
    }
    contentLoaded(window,replaceHtmlLan);
    window.replaceLanRes = function (res) {
        if (!res || !EChatQuery || typeof res != 'object') {//ws返回资源和console的调用资源的时候 页面都应该加载好了
            return;
        }
        replaceHtmlLan(res);
        lanRes = EChatQuery.extend(lanRes, res);
    }
})();